{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/js-widget-hooks/src/dev/js-widget-hooks.js","webpack:///./src/assets/js/util/array-utils.js","webpack:///./src/assets/js/widgets/gallery-grid.js","webpack:///./src/assets/js/frontend.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","factory","debug","arguments","console","error","apply","widgetClass","widgetDataName","scriptClass","vars","registered","registeredFinalls","register","id","func","priority","this","setOptions","options","forEach","attr","undefined","init","root","wdg","k","priorityList","wdgArrays","allWidgets","that","length","sort","a","b","document","querySelector","querySelectorAll","elem","dataWidgetsAttributeName","names","dataset","successCount","split","push","classList","add","remove","widgetName","classEl","initSpecific","force","contains","e","Array","indexOf","max","min","member","fromIndex","TypeError","Len","Math","callback","T","O","len","kValue","map","A","mappedValue","filter","thisArg","res","window","NodeList","Widgets","el","tiles","running","log","scrollListener","setTimeout","checkVisibility","processedTiles","tile","index","bounding","getBoundingClientRect","top","left","bottom","height","innerHeight","documentElement","clientHeight","random","reverse","splice","removeEventListener","addEventListener","onload"],"mappings":"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","file":"frontend.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","'use strict';\n\n/**\n *\tThe Widget Hooks, which allow to hook javascript execution in the following form:\n *\n *\t<div class=\"widget\" id=\"my-widget-root\" data-widgets=\"my-widget\">...</div>\n */\n(function (root, factory) {\n\n    // https://github.com/umdjs/umd/blob/master/returnExports.js\n    if (typeof module === 'object' && module.exports) {\n        // Node\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], factory);\n    } else {\n        // Browser globals (root is window)\n        root.Widgets = factory();\n    }\n}(this, function() {\n\n    // debug helper function\n    var debug = function () {\n        if (typeof(console) === 'object') {\n            arguments[0] = '[js-widget-hooks] ' + arguments[0];\n            console.error.apply(console, arguments);\n        }\n    };\n\n    // this is the Widgets Object\n    return {\n\n        widgetClass: 'widget',\n        widgetDataName: 'widgets',\n        scriptClass: 'dyn-script',\n\n        vars: {}, // place to put data\n\n        // registered widgets\n        registered: {},\n\n        // place for function calls after widget initialization\n        registeredFinalls: {},\n\n        // to register a new widget dynamically\n        // @param Number Priority\t\t\t- an optional priority in order to have control, which widget is executed first\n        register: function (id, func, priority) {\n            if (this.registered[id]) debug(\"[WARNING] Widget \" + id + \" was already registered: Override.\");\n            this.registered[id] = [func, priority];\n        },\n\n        setOptions: function (options) {\n            if (options) {\n                ['widgetClass', 'scriptClass', 'widgetDataName'].forEach(function (attr) {\n                    if (options[attr] !== undefined) {\n                        this[attr] = options[attr];\n                    }\n                }.bind(this));\n            }\n        },\n\n        /**\n         *\n         * @param {Node} [root=body] the node to initialize the widgets on\n         * @param {{}} [options]\n         */\n        init: function (root, options) {\n            var priorityList = [],\n                wdgArrays = {},\n                wdg, k, allWidgets = [],\n                that = this\n            ;\n\n            // set the options\n            this.setOptions(options);\n\n            // sort the widgets\n            for (wdg in this.registered) {\n                priorityList[priorityList.length] = [wdg, this.registered[wdg][1]]; // 1 is the priority\n                wdgArrays[wdg] = [];\n            }\n\n            priorityList.sort(function (a, b) {\n                if (a[1] !== undefined && b[1] === undefined) return -1;\n                if (a[1] === undefined && b[1] !== undefined) return 1;\n                return a[1] < b[1] ? 1 : (a[1] > b[1]) ? -1 : 0;\n            });\n\n            if (!root) root = document.querySelector('body'); // fallback to complete DOM execution, if we get not a subnode\n            if (!root) {\n                debug(\"No root element could be found - is the DOM loaded already?\");\n            }\n\n            // get all the elements of the type widget\n            /** @type {Node} elem */\n            root.querySelectorAll('.' + that.widgetClass).forEach(function (elem) {\n                var dataWidgetsAttributeName = that.widgetDataName;\n                var names = elem.dataset[dataWidgetsAttributeName];\n                var successCount = 0;\n\n                if (names) {\n                    names.split(' ').forEach(function (name) {\n                        if (wdgArrays[name] !== undefined) {\n                            wdgArrays[name].push(elem);\n                            successCount++;\n                        } else {\n                            debug(\"No method for widget \" + name + \" provided on %o\", elem);\n                            elem.classList.add(that.widgetClass + '-config-error');\n                        }\n                    });\n                } else {\n                    debug(\"missing data-\" + dataWidgetsAttributeName + \" attribute on %o\", elem);\n                    elem.classList.add(that.widgetClass + '-config-error');\n                }\n\n                // only errors, no need to check ever again this page load\n                if (!successCount) {\n                    elem.classList.remove(that.widgetClass);\n                }\n\n            });\n\n            //  and initialise them according to the priority\n            priorityList.forEach(function (wdg) {\n                var widgetName = wdg[0];\n                var cList = wdgArrays[widgetName];\n\n                cList.forEach(function (classEl) {\n                    allWidgets[allWidgets.length] = classEl;\n                    that.initSpecific(classEl, widgetName);\n                });\n\n                if (that.registeredFinalls[widgetName]) that.registeredFinalls[widgetName]();\n\n                delete wdgArrays[widgetName]; // remove the initialized array, in order to check, if something was not initialized\n            });\n\n            // delete the widget class after all executions have finished in case of multi widgets\n            for (k in allWidgets) {\n                allWidgets[k].classList.remove(this.widgetClass); // remove the class to prevent a second initialization\n            }\n        },\n\n        /**\n         *\n         * @param {Node} elem\n         * @param {string} widgetName\n         * @param {boolean} force - allows to initialize a widget also, if it was already initialized\n         * @returns {boolean}\n         */\n        initSpecific: function (elem, widgetName, force) {\n            var that = this;\n            try {\n                if (elem.classList.contains(that.widgetClass) || force) { // just in case something has changed meanwhile...\n\n                    this.registered[widgetName][0](elem);\n                    elem.classList.add(that.widgetClass + '-initialized');\n\n                }\n            } catch (e) {\n                debug(\"Error during execution of widget %o at %o:\\n%o\", widgetName, elem, e);\n                elem.classList.add(that.widgetClass + '-error');\n                return false;\n            }\n\n            return true;\n        }\n    };\n}));\n","if (!Array.prototype.indexOf) {\n    Array.prototype.indexOf = (function(Object, max, min){\n\n        return function indexOf(member, fromIndex) {\n            if(this===null||this===undefined)throw TypeError(\"Array.prototype.indexOf called on null or undefined\");\n\n            var that = Object(this), Len = that.length >>> 0, i = min(fromIndex | 0, Len);\n            if (i < 0) i = max(0, Len+i); else if (i >= Len) return -1;\n\n            if(member===void 0){ for(; i !== Len; ++i) if(that[i]===void 0 && i in that) return i; // undefined\n            }else if(member !== member){   for(; i !== Len; ++i) if(that[i] !== that[i]) return i; // NaN\n            }else                           for(; i !== Len; ++i) if(that[i] === member) return i; // all else\n\n            return -1; // if the value was not found, then return -1\n        };\n    })(Object, Math.max, Math.min);\n}\n\n// Production steps of ECMA-262, Edition 5, 15.4.4.18\n// Reference: http://es5.github.io/#x15.4.4.18\nif (!Array.prototype.forEach) {\n\n    Array.prototype.forEach = function(callback/*, thisArg*/) {\n\n        var T, k;\n\n        if (this == null) {\n            throw new TypeError('this is null or not defined');\n        }\n\n        // 1. Let O be the result of calling toObject() passing the\n        // |this| value as the argument.\n        var O = Object(this);\n\n        // 2. Let lenValue be the result of calling the Get() internal\n        // method of O with the argument \"length\".\n        // 3. Let len be toUint32(lenValue).\n        var len = O.length >>> 0;\n\n        // 4. If isCallable(callback) is false, throw a TypeError exception.\n        // See: http://es5.github.com/#x9.11\n        if (typeof callback !== 'function') {\n            throw new TypeError(callback + ' is not a function');\n        }\n\n        // 5. If thisArg was supplied, let T be thisArg; else let\n        // T be undefined.\n        if (arguments.length > 1) {\n            T = arguments[1];\n        }\n\n        // 6. Let k be 0.\n        k = 0;\n\n        // 7. Repeat while k < len.\n        while (k < len) {\n\n            var kValue;\n\n            // a. Let Pk be ToString(k).\n            //    This is implicit for LHS operands of the in operator.\n            // b. Let kPresent be the result of calling the HasProperty\n            //    internal method of O with argument Pk.\n            //    This step can be combined with c.\n            // c. If kPresent is true, then\n            if (k in O) {\n\n                // i. Let kValue be the result of calling the Get internal\n                // method of O with argument Pk.\n                kValue = O[k];\n\n                // ii. Call the Call internal method of callback with T as\n                // the this value and argument list containing kValue, k, and O.\n                callback.call(T, kValue, k, O);\n            }\n            // d. Increase k by 1.\n            k++;\n        }\n        // 8. return undefined.\n    };\n}\n\n\n// Production steps of ECMA-262, Edition 5, 15.4.4.19\n// Reference: http://es5.github.io/#x15.4.4.19\nif (!Array.prototype.map) {\n\n    Array.prototype.map = function(callback/*, thisArg*/) {\n\n        var T, A, k;\n\n        if (this == null) {\n            throw new TypeError('this is null or not defined');\n        }\n\n        // 1. Let O be the result of calling ToObject passing the |this|\n        //    value as the argument.\n        var O = Object(this);\n\n        // 2. Let lenValue be the result of calling the Get internal\n        //    method of O with the argument \"length\".\n        // 3. Let len be ToUint32(lenValue).\n        var len = O.length >>> 0;\n\n        // 4. If IsCallable(callback) is false, throw a TypeError exception.\n        // See: http://es5.github.com/#x9.11\n        if (typeof callback !== 'function') {\n            throw new TypeError(callback + ' is not a function');\n        }\n\n        // 5. If thisArg was supplied, let T be thisArg; else let T be undefined.\n        if (arguments.length > 1) {\n            T = arguments[1];\n        }\n\n        // 6. Let A be a new array created as if by the expression new Array(len)\n        //    where Array is the standard built-in constructor with that name and\n        //    len is the value of len.\n        A = new Array(len);\n\n        // 7. Let k be 0\n        k = 0;\n\n        // 8. Repeat, while k < len\n        while (k < len) {\n\n            var kValue, mappedValue;\n\n            // a. Let Pk be ToString(k).\n            //   This is implicit for LHS operands of the in operator\n            // b. Let kPresent be the result of calling the HasProperty internal\n            //    method of O with argument Pk.\n            //   This step can be combined with c\n            // c. If kPresent is true, then\n            if (k in O) {\n\n                // i. Let kValue be the result of calling the Get internal\n                //    method of O with argument Pk.\n                kValue = O[k];\n\n                // ii. Let mappedValue be the result of calling the Call internal\n                //     method of callback with T as the this value and argument\n                //     list containing kValue, k, and O.\n                mappedValue = callback.call(T, kValue, k, O);\n\n                // iii. Call the DefineOwnProperty internal method of A with arguments\n                // Pk, Property Descriptor\n                // { Value: mappedValue,\n                //   Writable: true,\n                //   Enumerable: true,\n                //   Configurable: true },\n                // and false.\n\n                // In browsers that support Object.defineProperty, use the following:\n                // Object.defineProperty(A, k, {\n                //   value: mappedValue,\n                //   writable: true,\n                //   enumerable: true,\n                //   configurable: true\n                // });\n\n                // For best browser support, use the following:\n                A[k] = mappedValue;\n            }\n            // d. Increase k by 1.\n            k++;\n        }\n\n        // 9. return A\n        return A;\n    };\n}\n\nif (!Array.prototype.filter){\n    Array.prototype.filter = function(func, thisArg) {\n        'use strict';\n        if ( ! ((typeof func === 'Function' || typeof func === 'function') && this) )\n            throw new TypeError();\n\n        var len = this.length >>> 0,\n            res = new Array(len), // preallocate array\n            t = this, c = 0, i = -1;\n        if (thisArg === undefined){\n            while (++i !== len){\n                // checks to see if the key was set\n                if (i in this){\n                    if (func(t[i], i, t)){\n                        res[c++] = t[i];\n                    }\n                }\n            }\n        }\n        else{\n            while (++i !== len){\n                // checks to see if the key was set\n                if (i in this){\n                    if (func.call(thisArg, t[i], i, t)){\n                        res[c++] = t[i];\n                    }\n                }\n            }\n        }\n\n        res.length = c; // shrink down array to proper size\n        return res;\n    };\n}\n\nif (window.NodeList && !NodeList.prototype.forEach) {\n    NodeList.prototype.forEach = Array.prototype.forEach;\n}","import Widgets from 'js-widget-hooks';\n\nconst heightPartInViewPortToShow = 2/3;\n\nconst isInViewport = function (elem) {\n    const bounding = elem.getBoundingClientRect();\n\n    return (\n        bounding.top >= 0\n        && bounding.left >= 0\n\n            // 2/3 of the thing in the viewport are enough\n        && bounding.bottom - (bounding.height * heightPartInViewPortToShow) <= (window.innerHeight || document.documentElement.clientHeight)\n        // && bounding.right <= (window.innerWidth || document.documentElement.clientWidth)\n    );\n};\n\n\nWidgets.register('gallery-grid', function (el) {\n    let tiles = [...el.querySelectorAll('.swg-gallery__preview')];\n    let running = false;\n\n    console.log(tiles);\n\n    const scrollListener = function (e) {\n        if (!running) {\n            running = true;\n            window.setTimeout(checkVisibility, 10);\n        }\n    };\n\n    const checkVisibility = function () {\n        running = true;\n        let processedTiles = [];\n        tiles.forEach(function (tile, index) {\n            if (isInViewport(tile)) {\n\n                // add a bit ov variability\n                window.setTimeout(function () {\n                    tile.classList.add('visible');\n                }, Math.random() * 500);\n\n                // forget about this tile\n                processedTiles.push(index);\n            }\n        });\n\n        processedTiles.reverse().forEach(function (index) {\n            tiles.splice(index, 1);\n        });\n\n        if (!tiles.length) {\n            window.removeEventListener('scroll', scrollListener);\n            console.log('removed event listener');\n        }\n\n        running = false;\n    };\n\n    checkVisibility();\n\n    console.log(tiles);\n\n    if (tiles.length) {\n        window.addEventListener('scroll', scrollListener);\n    }\n});","import './util/array-utils';\nimport Widgets from 'js-widget-hooks';\nimport './widgets/gallery-grid';\n\nwindow.onload = function () {\n\n    Widgets.init(document.querySelector('body'), {\n        widgetClass: 'js-widget'\n    });\n};"],"sourceRoot":""}